# Properties for OSM-Notes-Monitoring
# Copy this file to properties.sh and configure
# Version: 2025-12-24

# Database Configuration
# 
# Monitoring Database (this project's own database)
# - Development: osm_notes_monitoring
# - Production: notes_monitoring
# This database stores metrics, alerts, security events, and component health
DBNAME="osm_notes_monitoring"
DBHOST="localhost"
DBPORT="5432"
DBUSER="postgres"

# Monitored Databases (databases from other projects that we monitor)
# These are separate from the monitoring database above
# 
# Ingestion Database (OSM-Notes-Ingestion project)
# - Development: osm_notes (or as configured in ingestion project)
# - Production: notes
INGESTION_DBNAME="${INGESTION_DBNAME:-notes}"
INGESTION_DBHOST="${INGESTION_DBHOST:-${DBHOST}}"
INGESTION_DBPORT="${INGESTION_DBPORT:-${DBPORT}}"
INGESTION_DBUSER="${INGESTION_DBUSER:-${DBUSER}}"

# Analytics/DWH Database (OSM-Notes-Analytics project)
# - Development: osm_notes_dwh (or as configured in analytics project)
# - Production: notes_dwh
ANALYTICS_DBNAME="${ANALYTICS_DBNAME:-notes_dwh}"
ANALYTICS_DBHOST="${ANALYTICS_DBHOST:-${DBHOST}}"
ANALYTICS_DBPORT="${ANALYTICS_DBPORT:-${DBPORT}}"
ANALYTICS_DBUSER="${ANALYTICS_DBUSER:-${DBUSER}}"

# Alerting
ADMIN_EMAIL="admin@example.com"
SEND_ALERT_EMAIL="true"
SLACK_WEBHOOK_URL=""  # Optional

# Monitoring Intervals (in seconds)
INGESTION_CHECK_INTERVAL=300      # 5 minutes
ANALYTICS_CHECK_INTERVAL=900       # 15 minutes
WMS_CHECK_INTERVAL=300             # 5 minutes
API_CHECK_INTERVAL=60              # 1 minute
DATA_CHECK_INTERVAL=3600           # 1 hour
INFRASTRUCTURE_CHECK_INTERVAL=300  # 5 minutes

# Logging
LOG_LEVEL="INFO"
LOG_DIR="/var/log/osm-notes-monitoring"
TMP_DIR="/var/tmp/osm-notes-monitoring"
LOCK_DIR="/var/run/osm-notes-monitoring"

# Repository Paths (adjust to your setup)
INGESTION_REPO_PATH="/path/to/OSM-Notes-Ingestion"
ANALYTICS_REPO_PATH="/path/to/OSM-Notes-Analytics"
WMS_REPO_PATH="/path/to/OSM-Notes-WMS"
DATA_REPO_PATH="/path/to/OSM-Notes-Data"

# API Configuration
OSM_API_BASE_URL="https://api.openstreetmap.org/api/0.6/notes"  # OSM Notes API base URL

